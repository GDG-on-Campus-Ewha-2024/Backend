<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>Blog</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
    <div class="container">
        <h1>Blog Posts</h1>
        <div class="btn">
          <button id="w_btn">Write</button>
        </div>

        {% for post in posts %}
            <div class="post">
                <h3>제목 : {{ post.title }}</h3>
                <h4>작성 날짜 : {{ post.date }}</h4>
                <p>{{ post.body }}</p>
            </div>
        {% endfor %}

        <div class="pagination">
            <span class="step-links">
                {% if posts.has_previous %}
                    <a href="?page=1">&laquo; 처음</a>
                    <a href="?page={{ posts.previous_page_number }}">이전</a>
                {% endif %}

                <span class="current">
                    Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
                </span>

                {% if posts.has_next %}
                    <a href="?page={{ posts.next_page_number }}">다음</a>
                    <a href="?page={{ posts.paginator.num_pages }}">마지막 &raquo;</a>
                {% endif %}
            </span>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function(){
            $('#w_btn').click(function(){
                location.href='{% url "new_post" %}';
            });
        });
    </script>
</body>
</html>
